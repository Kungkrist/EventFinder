{"version":3,"file":"my-login.component.js","sourceRoot":"","sources":["my-login.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAWA;gBAME,0BAAmB,GAAiB,EAA+B,IAAc,EAAU,MAAc;oBAAtF,QAAG,GAAH,GAAG,CAAc;oBAA+B,SAAI,GAAJ,IAAI,CAAU;oBAAU,WAAM,GAAN,MAAM,CAAQ;oBAFzG,kBAAa,GAAW,EAAE,CAAC;gBAEiF,CAAC;gBAE7G,mCAAQ,GAAR;oBACE,KAAK;gBACP,CAAC;gBAED,gCAAK,GAAL;oBAAA,iBAYC;oBAXC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC;wBACxB,KAAK,EAAM,IAAI,CAAC,KAAK;wBACrB,QAAQ,EAAG,IAAI,CAAC,QAAQ;qBACxB,EAAE,UAAC,KAAK,EAAE,QAAQ;wBAClB,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;4BACX,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;wBAC5B,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACP,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;4BAChC,KAAI,CAAC,aAAa,GAAG,EAAE,CAAC;wBAC1B,CAAC;oBACH,CAAC,CAAC,CAAC;gBACL,CAAC;gBAED,wCAAa,GAAb;oBAAA,iBAuBC;oBAtBC,IAAI,GAAG,GAAG,MAAM,CAAC,0BAA0B,CAAC,CAAC;oBAE7C,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC;wBAEd,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC;4BACxC,KAAK,EAAE,GAAG;yBACP,EAAE,UAAA,KAAK;4BACL,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gCACT,MAAM,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;oCACnB,KAAK,cAAc;wCACjB,OAAO,CAAC,GAAG,CAAC,4CAA4C,CAAC,CAAC;wCAC5D,KAAK,CAAC;oCACP;wCACG,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,KAAK,CAAC,CAAC;gCAClD,CAAC;4BACF,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACL,OAAO,CAAC,GAAG,CAAC,yCAAyC,CAAC,CAAC;gCACvD,KAAI,CAAC,aAAa,GAAG,kCAAkC,GAAG,GAAG,CAAC;4BACjE,CAAC;wBACJ,CAAC,CAAC,CAAC;oBAEb,CAAC;gBACH,CAAC;gBAvDH;oBAAC,gBAAS,CAAC;wBACT,QAAQ,EAAE,YAAY;wBACtB,QAAQ,EAAE,UAAU;wBACpB,WAAW,EAAE,yBAAyB;wBACtC,SAAS,EAAE,CAAC,wBAAwB,CAAC;qBACtC,CAAC;+BAOuC,aAAM,CAAC,0BAAW,CAAC;;oCAP1D;gBAoDF,uBAAC;YAAD,CAAC,AAnDD,IAmDC;YAnDD,+CAmDC,CAAA","sourcesContent":["import {Component, OnInit, Inject} from 'angular2/core';\nimport {AngularFire, FirebaseRef} from 'angularfire2';\nimport {ROUTER_DIRECTIVES, RouteConfig, Router} from 'angular2/router'\nimport {MyMainComponent} from '../my-main'\n\n@Component({\n  moduleId: __moduleName,\n  selector: 'my-login',\n  templateUrl: 'my-login.component.html',\n  styleUrls: ['my-login.component.css']\n})\nexport class MyLoginComponent implements OnInit {\n\n  email: string;\n  password: string;\n  loginNotation: string = '';\n  \n  constructor(public _af : AngularFire, @Inject(FirebaseRef) private _ref: Firebase, private router: Router) {}\n  \n  ngOnInit() {\n    //ost\n  }\n  \n  login() {\n    this._ref.authWithPassword({\n       email    : this.email,\n       password : this.password\n      }, (error, authData) => {\n       if (error) {\n        this.loginNotation = error;\n       } else {\n        this.router.navigate(['/Home']);\n        this.loginNotation = '';\n      }\n    });\n  }\n  \n  resetPassword() {\n    var str = prompt(\"Please enter your e-mail\");\n    \n    if (str != null) {\n     \n        this._ref.child('/users').resetPassword({\n        email: str\n          }, error => {\n             if (error) {\n                switch (error.code) {\n                  case \"INVALID_USER\":\n                    console.log(\"The specified user account does not exist.\");\n                  break;\n                 default:\n                    console.log(\"Error resetting password:\", error);\n                  }\n                 } else {\n                    console.log(\"Password reset email sent successfully!\");\n                    this.loginNotation = \"Temporärt lösenord skickat till \" + str;\n                 }\n              });\n        \n    }\n  }\n  \n}\n"]}