{"version":3,"file":"my-login.component.js","sourceRoot":"","sources":["../../src/app/my-login/my-login.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,qBAAwC,eAAe,CAAC,CAAA;AACxD,6BAAuC,cAAc,CAAC,CAAA;AACtD,kCAAqD,4BACrD,CAAC,CADgF;AASjF;IAME,0BAAmB,GAAiB,EAA+B,IAAS,EAAU,MAAc;QAAjF,QAAG,GAAH,GAAG,CAAc;QAA+B,SAAI,GAAJ,IAAI,CAAK;QAAU,WAAM,GAAN,MAAM,CAAQ;QAFpG,kBAAa,GAAW,EAAE,CAAC;IAE4E,CAAC;IAExG,mCAAQ,GAAR;QACE,KAAK;IACP,CAAC;IAED,gCAAK,GAAL;QAAA,iBAYC;QAXC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC;YACxB,KAAK,EAAM,IAAI,CAAC,KAAK;YACrB,QAAQ,EAAG,IAAI,CAAC,QAAQ;SACxB,EAAE,UAAC,KAAK,EAAE,QAAQ;YAClB,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBACX,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC5B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBAChC,KAAI,CAAC,aAAa,GAAG,EAAE,CAAC;YAC1B,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,wCAAa,GAAb;QAAA,iBAuBC;QAtBC,IAAI,GAAG,GAAG,MAAM,CAAC,0BAA0B,CAAC,CAAC;QAE7C,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC;YAEd,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC;gBACxC,KAAK,EAAE,GAAG;aACP,EAAE,UAAA,KAAK;gBACL,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACT,MAAM,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;wBACnB,KAAK,cAAc;4BACjB,OAAO,CAAC,GAAG,CAAC,4CAA4C,CAAC,CAAC;4BAC5D,KAAK,CAAC;wBACP;4BACG,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,KAAK,CAAC,CAAC;oBAClD,CAAC;gBACF,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACL,OAAO,CAAC,GAAG,CAAC,yCAAyC,CAAC,CAAC;oBACvD,KAAI,CAAC,aAAa,GAAG,kCAAkC,GAAG,GAAG,CAAC;gBACjE,CAAC;YACJ,CAAC,CAAC,CAAC;QAEb,CAAC;IACH,CAAC;IAvDH;QAAC,gBAAS,CAAC;YACT,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,UAAU;YACpB,WAAW,EAAE,yBAAyB;YACtC,SAAS,EAAE,CAAC,wBAAwB,CAAC;SACtC,CAAC;mBAOuC,aAAM,CAAC,0BAAW,CAAC;;wBAP1D;IAoDF,uBAAC;AAAD,CAAC,AAnDD,IAmDC;AAnDY,wBAAgB,mBAmD5B,CAAA","sourcesContent":["import {Component, OnInit, Inject} from '@angular/core';\nimport {AngularFire, FirebaseRef} from 'angularfire2';\nimport {ROUTER_DIRECTIVES, RouteConfig, Router} from '@angular/router-deprecated'\nimport {MyMainComponent} from '../my-main'\n\n@Component({\n  moduleId: module.id,\n  selector: 'my-login',\n  templateUrl: 'my-login.component.html',\n  styleUrls: ['my-login.component.css']\n})\nexport class MyLoginComponent implements OnInit {\n\n  email: string;\n  password: string;\n  loginNotation: string = '';\n  \n  constructor(public _af : AngularFire, @Inject(FirebaseRef) private _ref: any, private router: Router) {}\n  \n  ngOnInit() {\n    //ost\n  }\n  \n  login() {\n    this._ref.authWithPassword({\n       email    : this.email,\n       password : this.password\n      }, (error, authData) => {\n       if (error) {\n        this.loginNotation = error;\n       } else {\n        this.router.navigate(['/Home']);\n        this.loginNotation = '';\n      }\n    });\n  }\n  \n  resetPassword() {\n    var str = prompt(\"Please enter your e-mail\");\n    \n    if (str != null) {\n     \n        this._ref.child('/users').resetPassword({\n        email: str\n          }, error => {\n             if (error) {\n                switch (error.code) {\n                  case \"INVALID_USER\":\n                    console.log(\"The specified user account does not exist.\");\n                  break;\n                 default:\n                    console.log(\"Error resetting password:\", error);\n                  }\n                 } else {\n                    console.log(\"Password reset email sent successfully!\");\n                    this.loginNotation = \"Temporärt lösenord skickat till \" + str;\n                 }\n              });\n        \n    }\n  }\n  \n}\n"]}