{"version":3,"file":"my-show-detailsview.component.js","sourceRoot":"","sources":["../../src/app/my-show-detailsview/my-show-detailsview.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,qBAA4D,eAAe,CAAC,CAAA;AAE5E,6BAAyF,cAAc,CAAC,CAAA;AACxG,2BAAiC,eAAe,CAAC,CAAA;AACjD,kCAAoF,4BAA4B,CAAC,CAAA;AAEjH,kCAA0D,4BAA4B,CAAC,CAAA;AAYvF;IAEE,oCAAmB,EAAe,EAA8B,GAAO,EAAS,IAAe,EAAS,QAA4B,EAAS,MAAmB,EAAU,MAAc;QAArK,OAAE,GAAF,EAAE,CAAa;QAA8B,QAAG,GAAH,GAAG,CAAI;QAAS,SAAI,GAAJ,IAAI,CAAW;QAAS,aAAQ,GAAR,QAAQ,CAAoB;QAAS,WAAM,GAAN,MAAM,CAAa;QAAU,WAAM,GAAN,MAAM,CAAQ;QAExL,UAAK,GAAc,EAAC,IAAI,EAAE,EAAE;YAC5B,IAAI,EAAE,EAAE;YACR,UAAU,EAAE,EAAE;YACd,SAAS,EAAE,EAAE;YACb,IAAI,EAAE,EAAE;YACR,MAAM,EAAE,EAAE;YACV,QAAQ,EAAE,CAAC,EAAE,CAAC;YACd,KAAK,EAAE,EAAE;YACT,SAAS,EAAE,EAAE;YACb,KAAK,EAAE,EAAE;YACT,KAAK,EAAE,EAAE;YACT,GAAG,EAAE,IAAI;YACT,QAAQ,EAAE,EAAE,EAAC,CAAA;IAbb,CAAC;IAoBD,6CAAQ,GAAR;QAAA,iBAMC;QALC,sBAAsB;QACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,+BAAW,CAAC,CAAC;QACpD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACtC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,GAAG,GAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,EAAE,EAApB,CAAoB,CAAC,CAAC;IAE7F,CAAC;IAGD,4CAAO,GAAP,UAAQ,EAAE;QACR,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,gBAAgB,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;QACtD,MAAM,CAAC,KAAK,CAAC;IACf,CAAC;IAED,0DAA0D;IAC1D,4CAAO,GAAP;QACE,IAAI,CAAC;YACH,EAAE,CAAA,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC;gBACjD,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAAA,KAAK,CAAA,CAAC,CAAC,CAAC,CAAC,CAAC;YACT,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;IACH,CAAC;IAvDH;QAAC,gBAAS,CAAC;YACT,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,qBAAqB;YAC/B,WAAW,EAAE,oCAAoC;YACjD,SAAS,EAAE,CAAC,mCAAmC,CAAC;YAChD,SAAS,EAAE,EAAE;YACb,UAAU,EAAE,CAAC,+BAAkB,CAAC;YAChC,MAAM,EAAE,CAAC,KAAK,CAAC;SAChB,CAAC;mBAIqC,aAAM,CAAC,0BAAW,CAAC;;kCAJxD;IAkDF,iCAAC;AAAD,CAAC,AAhDD,IAgDC;AAhDY,kCAA0B,6BAgDtC,CAAA","sourcesContent":["import {Component, OnInit, Inject, ReflectiveInjector} from '@angular/core';\nimport {Event, FullEvent} from '../IEvent';\nimport {AngularFire, FirebaseListObservable, FirebaseObjectObservable, FirebaseRef} from 'angularfire2';\nimport {MyCommentComponent} from '../my-comment';\nimport {RouteData, RouteParams, OnActivate, ComponentInstruction, CanActivate} from '@angular/router-deprecated';\nimport {Http} from '@angular/http';\nimport {ROUTER_DIRECTIVES, ROUTER_PROVIDERS, Router} from '@angular/router-deprecated';\n\n@Component({\n  moduleId: module.id,\n  selector: 'my-show-detailsview',\n  templateUrl: 'my-show-detailsview.component.html',\n  styleUrls: ['my-show-detailsview.component.css'],\n  providers: [],\n  directives: [MyCommentComponent],\n  inputs: ['uid'],\n})\n//@CanActivate(() => tokenNotExpired())\nexport class MyShowDetailsviewComponent implements OnInit {\n\n  constructor(public af: AngularFire, @Inject(FirebaseRef) public ref:any, public data: RouteData, public injector: ReflectiveInjector, public params: RouteParams, private router: Router) {\n  }\n  event: FullEvent = {name: \"\",\n  date: \"\",\n  start_time: \"\",\n  stop_time: \"\",\n  info: \"\",\n  adress: \"\",\n  comments: [\"\"],\n  price: \"\",\n  organiser: \"\",\n  phone: \"\",\n  email: \"\", \n  uid: null,\n  imageURL: \"\"}\n  \n  //FirebaseObjectObservable<Event>\n  \n  //public name = \"Placeholder, change to data from db\"\n  eventId;\n  \n  ngOnInit() {\n    // Get uid from sender\n    this.params = this.injector.parent.get(RouteParams);\n    this.eventId = this.params.get('uid');\n    this.ref.child('/events').child('/'+this.eventId).on(\"value\", (v) => this.event = v.val());\n    \n  }\n\n  \n  onClick(id){\n    this.router.navigate(['/My-detailview', { uid: id }]);\n    return false;\n  }\n  \n  // Check if the user is allowed to edit a specified event.\n  isValid() {\n    try {\n      if(this.event.uid.includes(this.ref.getAuth().uid))\n        return true;      \n    }catch(e) {      \n      return false;\n    }\n  }\n  \n  \n}\n"]}