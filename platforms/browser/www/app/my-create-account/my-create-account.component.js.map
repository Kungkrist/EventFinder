{"version":3,"file":"my-create-account.component.js","sourceRoot":"","sources":["../../src/app/my-create-account/my-create-account.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAwC,eAAe,CAAC,CAAA;AAGxD,kCAAqB,4BAA4B,CAAC,CAAA;AAClD,iCAA6B,qBAE7B,CAAC,CAFiD;AAQlD;IAOE,kCAAoB,MAAc,EAAS,WAA4B;QAAnD,WAAM,GAAN,MAAM,CAAQ;QAAS,gBAAW,GAAX,WAAW,CAAiB;QALvE,UAAK,GAAW,EAAE,CAAC;QACnB,aAAQ,GAAW,EAAE,CAAC;QACtB,aAAQ,GAAW,EAAE,CAAC;QACtB,qBAAgB,GAAY,EAAE,CAAC;IAE2C,CAAC;IAE3E,2CAAQ,GAAR;IACA,CAAC;IAED,gDAAa,GAAb;QAAA,iBAoCC;QAnCC,IAAI,IAAW,CAAC;QAEhB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,EAAE,IAAI,IAAI,CAAC,QAAQ,KAAK,EAAE,IAAI,IAAI,CAAC,QAAQ,KAAK,EAAE,CAAC,CAAC,CAAC;YAEtE,IAAI,mBAAmB,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YACpF,mBAAmB,CAAC,IAAI,CAAC,UAAA,MAAM;gBAC7B,IAAI,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;gBAC5B,IAAI,QAAQ,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;gBAClC,EAAE,CAAA,CAAC,KAAK,CAAC,CAAC,CAAC;oBACT,MAAM,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;wBACnB,KAAK,aAAa;4BAChB,KAAI,CAAC,gBAAgB,GAAG,6EAA6E,CAAC;4BACtG,KAAK,CAAC;wBACR,KAAK,eAAe;4BAClB,KAAI,CAAC,gBAAgB,GAAG,2CAA2C,CAAC;4BACpE,KAAK,CAAC;wBACR;4BACE,KAAI,CAAC,gBAAgB,GAAG,uBAAuB,GAAG,KAAK,CAAC;oBAC5D,CAAC;gBACH,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,KAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;oBAC3B,IAAI,IAAI,GAAU,EAAE,QAAQ,EAAE,KAAI,CAAC,QAAQ;wBACvB,GAAG,EAAE,QAAQ,CAAC,GAAG;wBACjB,MAAM,EAAE,CAAC,EAAE,CAAC;wBACZ,SAAS,EAAE,EAAE;wBACb,QAAQ,EAAE,EAAE;wBACZ,KAAK,EAAE,KAAI,CAAC,KAAK,EAAE,CAAA;oBAEvC,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC;oBAChD,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACnC,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC;QAAA,IAAI,CAAC,CAAC;YACL,IAAI,CAAC,gBAAgB,GAAG,sCAAsC,CAAA;QAChE,CAAC;IACH,CAAC;IAtDH;QAAC,gBAAS,CAAC;YACT,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,mBAAmB;YAC7B,WAAW,EAAE,kCAAkC;YAC/C,SAAS,EAAE,CAAC,iCAAiC,CAAC;SAC/C,CAAC;;gCAAA;IAkDF,+BAAC;AAAD,CAAC,AAjDD,IAiDC;AAjDY,gCAAwB,2BAiDpC,CAAA","sourcesContent":["import {Component, OnInit, Inject} from '@angular/core';\nimport {FirebaseRef, AngularFire} from 'angularfire2';\nimport {User} from '../IUser';\nimport {Router} from '@angular/router-deprecated';\nimport {MyUsersService} from '../my-users.service'\n\n@Component({\n  moduleId: module.id,\n  selector: 'my-create-account',\n  templateUrl: 'my-create-account.component.html',\n  styleUrls: ['my-create-account.component.css']\n})\nexport class MyCreateAccountComponent implements OnInit {\n\n  email: string = '';\n  password: string = '';\n  username: string = '';  \n  createAnnotation : string = '';\n  \n  constructor(private router: Router, public userService : MyUsersService) {}\n  \n  ngOnInit() {\n  }\n  \n  createAccount() {\n    var self : this;\n    \n    if (this.email !== '' && this.password !== '' && this.username !== '') {\n     \n      var createAccountResult = this.userService.createAccount(this.email, this.password);\n      createAccountResult.then(result => {\n        let error = result[\"error\"];\n        let userData = result[\"userData\"];\n        if(error) {\n          switch (error.code) {\n            case \"EMAIL_TAKEN\":\n              this.createAnnotation = 'The new user account cannot be created because the email is already in use.';\n              break;\n            case \"INVALID_EMAIL\":\n              this.createAnnotation = 'The specified email is not a valid email.';\n              break;\n            default:\n              this.createAnnotation = 'Error creating user: ' + error;\n          }\n        } else {\n          this.createAnnotation = '';\n          let user : User = { username: this.username,\n                              uid: userData.uid,\n                              events: [''],\n                              firstName: '',\n                              lastName: '',\n                              email: this.email }\n                            \n          this.userService.addUser(userData[\"uid\"], user);\n          this.router.navigate(['/Login']);\n        }\n      }); \n    }else {\n      this.createAnnotation = 'You need to fill all the textfields.'\n    }\n  }\n}\n"]}